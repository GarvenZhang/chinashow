if(/x5/.test(device)){getEl("#homepage").style.height=parseInt(gar.getFullPageWH("h"))-parseInt(gar.getStyle(getEl("#nav"),"height"))+"px"}gar.preventIframe();(function(){var b=getEl("#mbg"),d=getEl("#companyLogo"),a=getEl("#contactus"),h=new gar.CacheFile();try{var c=gar.getLocalStorage(),g=function(){if(!c.getItem("mbg")){c.setItem("mbg",MBG_D64)}b.src=c.getItem("mbg");if(!c.getItem("clg")){c.setItem("clg",CLG_D64)}d.src=c.getItem("clg");if(!c.getItem("cu")){c.setItem("cu",CU_D64)}a.src=c.getItem("cu")};if(!c.getItem("mbg")){h.init("js","fileJson","../file/tmpJson.js",g)}else{g()}}catch(f){h.init("js","fileJson","../file/tmpJson.js",function(){b.src=MBG_D64;d.src=CLG_D64;a.src=CU_D64})}})();(function(){var r=getEl("#catalogue"),e=r.querySelectorAll("ul"),f=getEl("#nav"),c=getEl("#product"),g=getEl("#prodDetail"),d=function(){return f.offsetTop+f.offsetHeight+c.offsetTop+c.offsetHeight-parseInt(gar.getFullPageWH("h"))},n=new gar.photoGallery(),m;var j=function(l,u){var i=u.split("&");l.setAttribute("idnum",i[0].split("=")[1]);l.parentNode.lastChild.innerHTML=l.alt=i[1].split("=")[1];l.setAttribute("parentid",i[2].split("=")[1]);l.onclick=function(){gar.removeClass(b[3],"hide");gar.removeClass(g,"slowDisappear");gar.addClass(r,"slowDisappear");setTimeout(function(){gar.addClass(r,"hide");gar.removeClass(g,"hide")},300);a(i[2].split("=")[1],"go")}};gar.ajax({url:"/getAllRootFolders_action",method:"get",fn:function(i){if(i.status){var v=n.handleAPI(i.data,"baseUrl"),u=v.length;v=[v.slice(0,u>>1),v.slice(u>>1)];gar.picPreLoad({imgWrap:e[0],defaultPic:"../img/loading.gif",pictures:v[0]},{main:n.ordinaryStruc,part:j},{a1:2,d:1,distanceFn:d});gar.picPreLoad({imgWrap:e[1],defaultPic:"../img/loading.gif",pictures:v[1]},{main:n.ordinaryStruc,part:j},{a1:2,d:1,distanceFn:d});m="root-"}}});var t,k=function(l,v){var i=v.split("&"),u=i[1];l.setAttribute("idnum",i[0].split("=")[1]);if(/iName/.test(u)){l.setAttribute("iname",u.split("=")[1]);gar.singlePro(l);if(/url/.test(i[2])){l.setAttribute("url",i[2].split("=")[1])}}else{if(/fName/.test(u)){l.setAttribute("fname",u.split("=")[1]);if(/parentId/.test(i[2])){l.setAttribute("parentid",i[2].split("=")[1])}l.onclick=function(){a(i[0].split("=")[1],"go")}}}l.parentNode.lastChild.innerHTML=l.alt=u.split("=")[1]};function a(l,i){gar.ajax({url:"/getEachfolderInfo_action",method:"post",data:{id:l},fn:function(w){if(w.status){w=w.data;var A,v,z;if(w.imgs){A=n.handleAPI(w.imgs,"baseUrl")}if(w.files){v=n.handleAPI(w.files,"baseUrl")}if(v||A){if(A&&v){z=A.concat(v)}}else{return}if(t==this){setTimeout(function(){gar.imitClick(f.querySelectorAll("a")[1])},500);return}else{var x=getEl(".gargallery");if(x.hasChildNodes()){var y=x.querySelectorAll("img"),u=y.length;while(u--){y[u].onclick=null}x.innerHTML=""}gar.picPreLoad({imgWrap:x,defaultPic:"../img/loading.gif",pictures:z},{main:n.galleryStyle,part:k},{a1:8,d:3,distanceFn:d});if(/go/.test(i)){m+=l.toString()+"-"}}}}});t=this}for(var s=-1;e[++s];){for(var o=e[s].querySelectorAll("img"),q=-1;o[++q];){o[q].onclick=function(){a(this.getAttribute("idnum"),"go")}}}var h=function(i){gar.preventDefault(gar.getEvent(i))};gar.addHandler(document,"touchmove",h,false);for(var b=getEl("#nav").querySelectorAll("a"),q=b.length,p=0;q--;){(function(l){var i=function(){var u=getEl("#ctx");if(p===1||(p===2&&(this.innerHTML==="首页"||this.innerHTML==="联系我们"))){gar.addClass(b[3],"hide")}var w=parseInt(gar.getStyle(getEl(".ctx"),"width"));switch(this.innerHTML){case"首页":gar.addHandler(document,"touchmove",h,false);gar.easeOut(u,"left",0,10);hSize("#homepage");break;case"公司产品":gar.removeHandler(document,"touchmove",h,false);gar.easeOut(u,"left",Math.round(-0.3333333333333333*w),10);setTimeout(function(){gar.easeOut(u,"left",Math.round(-0.3333333333333333*parseInt(gar.getStyle(getEl(".ctx"),"width"))),10)},50);hSize("#product");if(/hide/.test(getEl("#catalogue").className)){gar.removeClass(b[3],"hide")}p=1;break;case"联系我们":gar.addHandler(document,"touchmove",h,false);gar.easeOut(u,"left",Math.round(-0.6666666666666666*w),10);setTimeout(function(){gar.easeOut(u,"left",Math.round(-0.6666666666666666*parseInt(gar.getStyle(getEl(".ctx"),"width")))-1,10)},50);hSize("#homepage");break;case"":var v=m.split("-"),x=parseInt(v[v.length-3]);if(p){gar.removeClass(this,"hide")}if(v.length>3){a(x,"back");m=m.slice(0,m.length-x.toString().length-1);p=2}else{gar.removeClass(r,"slowDisappear");gar.addClass(this,"hide");gar.addClass(g,"slowDisappear");setTimeout(function(){gar.removeClass(r,"hide");gar.addClass(g,"hide");hSize("#catalogue")},300);m="root-";p=1}break}};gar.addHandler(b[l],"click",i,true)})(q)}})();function hSize(b){var a=getEl(b);getEl("#ctxshowwrap").style.height=gar.getEleSumH(a)+"px";return[a.offsetTop,a.offsetHeight,parseInt(gar.getStyle(a,"marginBottom"))]}hSize("#homepage");setTimeout(function(){hSize("#homepage")},300);