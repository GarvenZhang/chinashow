var oForm=getEl("#loginForm"),oUser=oForm.user,oPwd=oForm.pwd,oSubmit=oForm.submit;var setCookie4L=function(b,a){var c=new Date(new Date().getTime()+2*60*60*1000);gar.cookieUtil.set("name",b,c);gar.cookieUtil.set("password",a,c)};var validatorFunc=function(){var a=new gar.validator4F();a.add(oUser,"isEmpty","用户名不能为空！");a.add(oPwd,"isEmpty","密码不能为空！");return a.start()};var submit=function(b,d,a){var c=validatorFunc();if(c){alert(c);return false}gar.ajax({url:"/login_action",method:"post",data:{name:oUser.value,password:a?md5(oPwd.value):oPwd.value},fn:function(e){if(e.status){setCookie4L(b,d);location.assign("/main")}else{alert("密码唔系呢个勒~阿杰!")}}})};gar.addHandler(oSubmit,"click",function(){submit(oUser.value,md5(oPwd.value),"md5")},false);for(var aInpTxt=[oUser,oPwd],i=0,inp;inp=aInpTxt[i++];){(function(a){gar.addHandler(a,"keyup",function(b){if(gar.getEvent(b).keyCode===13){submit(oUser.value,md5(oPwd.value),"md5")}},false)})(inp)}if(gar.cookieUtil.get("name")==="yaojie"){oUser.value=gar.cookieUtil.get("name");oPwd.value=gar.cookieUtil.get("password");submit(oUser.value,oPwd.value)};